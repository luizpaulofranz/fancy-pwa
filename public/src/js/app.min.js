function displayConfirmNotification(){let i={body:"You've successfully subscribed to our Notification service!",icon:"/src/images/icons/app-icon-96x96.png",image:"/src/images/sf-boat.jpg",dir:"ltr",lang:"pt-BR",vibrate:[100,50,200],badge:"/src/images/icons/app-icon-96x96.png",tag:"enable-notification",renotify:!0,actions:[{action:"confirm",title:"Okay",icon:"/src/images/icons/app-icon-96x96.png"},{action:"cancel",title:"Cancel",icon:"/src/images/icons/app-icon-96x96.png"}]};"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.showNotification("Successfully subscribed!",i)})}function configPushSubscription(){if("serviceWorker"in navigator){let i;navigator.serviceWorker.ready.then(e=>{return i=e,e.pushManager.getSubscription()}).then(e=>{if(null===e){let e="BHBtOC2vztZ5OdzUuZxFzyZwyGaxWWdpj23W52MQi7AH_2O4VflSLFWHq21ZyV_naj8qM9XaQ7QVM7_pFSZNDxI";var n=urlBase64ToUint8Array(e);return i.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:n})}i.pushManager.subscribe({userVisibleOnly:!0})}).then(function(i){return fetch("https://fancy-pwagram.firebaseio.com/subscriptions.json",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(i)})}).then(function(i){i.ok&&displayConfirmNotification()}).catch(function(i){console.log(i)})}}function askNotificationPermission(){Notification.requestPermission(i=>{console.log("User Permission Notification: ",i),"granted"!=i?console.log("User deny Notifications.",i):configPushSubscription()})}var deferredPrompt,enableNotification=document.querySelectorAll(".enable-notifications");if(window.Promise||(window.Promise=Promise),"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js").then(()=>{console.log("Service Worker registered!")}),window.addEventListener("beforeinstallprompt",function(){return console.log("beforeinstallprompt was fired."),event.preventDefault(),deferredPrompt=event,!1}),"Notification"in window&&"serviceWorker"in navigator)for(let i=0;i<enableNotification.length;i++)enableNotification[i].style.display="inline-block",enableNotification[i].addEventListener("click",askNotificationPermission);